{% extends "base.html" %}

{% block content %}
  <article class="md-content__inner md-typeset">

    {# 表紙など、print-siteのオプションで出る要素はそのまま #}
    {% if cover_page %}
      {{ cover_page }}
      <hr>
    {% endif %}

    {# プラグインが渡してくる pages を順に出力 #}
    {% for p in pages %}
      <h1 id="{{ p.url | replace('/', '-') }}">{{ p.title }}</h1>

      {# ← ここがポイント：GitBookの frontmatter を反映 #}
      {% if p.meta and p.meta.description %}
        <p class="poc-description">{{ p.meta.description }}</p>
      {% endif %}

      {{ p.content }}

      {% if not loop.last %}<hr>{% endif %}
    {% endfor %}
  </article>
{% endblock content %}

{% block extrahead %}
  {{ super() }}
  <style>
    .poc-description{
      margin-top:-0.5em;
      margin-bottom:1.2em;
      font-size:0.95em;
      color:var(--md-default-fg-color--lighter);
      font-style:italic;
    }
    @media print {
      .poc-description{ color:#666; }
    }
  </style>
{% endblock extrahead %}
